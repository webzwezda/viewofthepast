<section >
    {% if page.slider.title %}
        <h2>{{ page.slider.title }}</h2>
    {% endif %}

    {% if page.slider.description %}
        <p>{{ page.slider.description }}</p>
    {% endif %}

    <div class="button--wrap">
        <button id="prevBut" class="galbut" onclick="prevClick()" >
            Назад
        </button>

        <button id="nextBut" class="galbut" onclick="nextClick()">
            Вперёд
        </button>
    </div>

    <figure class="slider" onclick="nextClick()">
        <img id="IMGdisplayer" itemprop="image" class="slider__image" src="/assets/image/src/{{ page.slider.image[0].src }}"  alt="{% if page.slider.image[0].alt %}{{ page.slider.image[0].alt }}{% else %}Image viewer{% endif %}">
    </figure>

    <img id="IMGpreloader" src="/assets/image/src/{{ page.slider.image[1].src }}" alt="Изображение которого не должно быть видно, служит как подгрузка бля слайдера изображений"/>
</section>

<script>
    var imageGallery = [
        {% for image in page.slider.image %}
        "/assets/image/src/{{ image.src}}",
        {% endfor %}
    ];

    var imgCount = 0;
    var totalImgs = imageGallery.length - 1;

    function nextClick() {
        var prelImg;
        imgCount++;
        if (imgCount > totalImgs) imgCount = 0;
        prelImg = imgCount + 1;
        if (prelImg > totalImgs) prelImg = 0;
        document.getElementById("IMGdisplayer").src = imageGallery[imgCount];
        document.getElementById("IMGpreloader").src = imageGallery[prelImg];
    }

    function prevClick() {
        imgCount--;
        if (imgCount < 0) imgCount = totalImgs;
        document.getElementById("IMGdisplayer").src = imageGallery[imgCount];
    }

</script>

